@{
    ViewBag.Title = "ExternalEvents";
    Layout = "_LayoutFeatures";
}


<!--begin::Container-->
<div class="container">
    
    <!--begin::Example-->
    <!--begin::Row-->
    <div class="row" dir="ltr">
        <div class="col-lg-3" dir="ltr">
            <!--begin::Card-->
            <div class="card card-custom card-stretch" dir="ltr">
                <div class="card-header" dir="ltr">
                    <div class="card-title" dir="ltr">
                        <h3 class="card-label">External Events</h3>
                    </div>
                </div>
                <div class="card-body" dir="ltr">
                    <div id="kt_calendar_external_events" class="fc-unthemed">
                        <div class="btn btn-block text-left font-weight-bold btn-light-primary fc-draggable-handle mb-5 cursor-move" data-color="fc-event-primary">Meeting</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-success fc-draggable-handle mb-5 cursor-move" data-color="fc-event-primary">Conference Call</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-danger fc-draggable-handle mb-5 cursor-move" data-color="fc-event-success">Dinner</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-info fc-draggable-handle mb-5 cursor-move" data-color="fc-event-warning">Product Launch</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-warning fc-draggable-handle cursor-move" data-color="fc-event-danger">Reporting</div>
                        <div class="separator separator-dashed my-10"></div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-success fc-draggable-handle cursor-move" data-color="fc-event-success">Project Update</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-primary fc-draggable-handle cursor-move" data-color="fc-event-info">Staff Meeting</div>
                        <div class="btn btn-block text-left font-weight-bold btn-light-danger fc-draggable-handle cursor-move" data-color="fc-event-dark">Lunch</div>
                        <div class="separator separator-dashed my-10"></div>
                        <div>
                            <label class="checkbox checkbox-primary">
                                <input type="checkbox" id="kt_calendar_external_events_remove" />Remove after drop
                                <span></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::Card-->
        </div>
        <div class="col-lg-9" dir="ltr">
            <!--begin::Card-->
            <div class="card card-custom card-stretch" dir="ltr">
                <div class="card-header" dir="ltr">
                    <div class="card-title" dir="ltr">
                        <h3 class="card-label">Basic Calendar</h3>
                    </div>
                    <div class="card-toolbar" dir="ltr">
                        <a href="#" class="btn btn-light-primary font-weight-bold">
                            <i class="ki ki-plus"></i>Add Event
                        </a>
                    </div>
                </div>
                <div class="card-body" dir="ltr">
                    <div id="kt_calendar" dir="ltr"></div>
                </div>
            </div>
            <!--end::Card-->
        </div>
    </div>
    <!--end::Row-->
    <!--begin::Code example-->
    <div class="example example-compact my-5" dir="ltr">
        <div class="example-tools justify-content-center">
            <span class="example-toggle" data-toggle="tooltip" title="View code"></span>
            <span class="example-copy" data-toggle="tooltip" title="Copy code"></span>
        </div>
        <div class="example-code">
            <ul class="example-nav nav nav-tabs nav-bold nav-tabs-line nav-tabs-line-2x">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#example_code_html">HTML</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#example_code_js">JS</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="example_code_html" role="tabpanel">
                    <div class="example-highlight">
                        <pre>
<code class="language-html" dir="ltr">
                &lt;div class="row"&gt;
                 &lt;div class="col-lg-3"&gt;
                  &lt;!--begin::Card--&gt;
                  &lt;div class="card card-custom card-stretch"&gt;
                   &lt;div class="card-header"&gt;
                    &lt;div class="card-title"&gt;
                     &lt;h3 class="card-label"&gt;
                      External Events
                     &lt;/h3&gt;
                    &lt;/div&gt;
                   &lt;/div&gt;
                   &lt;div class="card-body"&gt;
                    &lt;div id="kt_calendar_external_events" class="fc-unthemed"&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-primary label-inline mb-5 cursor-move" data-color="fc-event-primary"&gt;Meeting&lt;/div&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-primary label-inline mb-5 cursor-move" data-color="fc-event-primary"&gt;Conference Call&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-success label-inline mb-5 cursor-move" data-color="fc-event-success"&gt;Dinner&lt;/div&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-warning label-inline mb-5 cursor-move" data-color="fc-event-warning"&gt;Product Launch&lt;/div&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-danger label-inline cursor-move" data-color="fc-event-danger"&gt;Reporting&lt;/div&gt;&lt;br/&gt;

                                    &lt;div class="separator separator-dashed my-10"&gt;&lt;/div&gt;

                                    &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-success label-inline mb-5 cursor-move" data-color="fc-event-success"&gt;Project Update&lt;/div&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-info label-inline mb-5 cursor-move" data-color="fc-event-info"&gt;Staff Meeting&lt;/div&gt;&lt;br/&gt;
                     &lt;div class="fc-draggable-handle label font-weight-bolder label-lg label-dark label-inline cursor-move" data-color="fc-event-dark"&gt;Lunch&lt;/div&gt;&lt;br/&gt;

                                    &lt;div class="separator separator-dashed my-10"&gt;&lt;/div&gt;
                     &lt;div&gt;
                      &lt;label class="checkbox checkbox-primary"&gt;
                      &lt;input type="checkbox" id="kt_calendar_external_events_remove"&gt; Remove after drop
                      &lt;span&gt;&lt;/span&gt;
                      &lt;/label&gt;
                     &lt;/div&gt;
                    &lt;/div&gt;
                   &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;!--end::Card--&gt;
                 &lt;/div&gt;
                 &lt;div class="col-lg-9"&gt;
                  &lt;!--begin::Card--&gt;
                  &lt;div class="card card-custom card-stretch"&gt;
                   &lt;div class="card-header"&gt;
                    &lt;div class="card-title"&gt;
                     &lt;h3 class="card-label"&gt;
                      Basic Calendar
                     &lt;/h3&gt;
                    &lt;/div&gt;
                    &lt;div class="card-toolbar"&gt;
                     &lt;a href="#" class="btn btn-light-primary font-weight-bold"&gt;
                     &lt;i class="ki ki-plus "&gt;&lt;/i&gt; Add Event
                     &lt;/a&gt;
                    &lt;/div&gt;
                   &lt;/div&gt;
                   &lt;div class="card-body"&gt;
                    &lt;div id="kt_calendar"&gt;&lt;/div&gt;
                   &lt;/div&gt;
                  &lt;/div&gt;
                  &lt;!--end::Card--&gt;
                 &lt;/div&gt;
                &lt;/div&gt;
    </code>
</pre>
                    </div>
                </div>
                <div class="tab-pane" id="example_code_js">
                    <div class="example-highlight">
                        <pre style="height:400px">
<code class="language-js">
                var KTCalendarExternalEvents = function() {

                    var initExternalEvents = function() {
                        $('#kt_calendar_external_events .fc-draggable-handle').each(function() {
                            // store data so the calendar knows to render an event upon drop
                            $(this).data('event', {
                                title: $.trim($(this).text()), // use the element's text as the event title
                                stick: true, // maintain when user navigates (see docs on the renderEvent method)
                                classNames: [$(this).data('color')],
                                description: 'Lorem ipsum dolor eius mod tempor labore'
                            });
                        });
                    }

                    var initCalendar = function() {
                        var todayDate = moment().startOf('day');
                        var YM = todayDate.format('YYYY-MM');
                        var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');
                        var TODAY = todayDate.format('YYYY-MM-DD');
                        var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');

                        var calendarEl = document.getElementById('kt_calendar');
                        var containerEl = document.getElementById('kt_calendar_external_events');

                        var Draggable = FullCalendarInteraction.Draggable;

                        new Draggable(containerEl, {
                            itemSelector: '.fc-draggable-handle',
                            eventData: function(eventEl) {
                                return $(eventEl).data('event');
                            }
                        });

                        var calendar = new FullCalendar.Calendar(calendarEl, {
                            plugins: [ 'interaction', 'dayGrid', 'timeGrid', 'list' ],

                            isRTL: KTUtil.isRTL(),
                            header: {
                                left: 'prev,next today',
                                center: 'title',
                                right: 'dayGridMonth,timeGridWeek,timeGridDay'
                            },

                            height: 800,
                            contentHeight: 780,
                            aspectRatio: 3,  // see: https://fullcalendar.io/docs/aspectRatio

                            nowIndicator: true,
                            now: TODAY + 'T09:25:00', // just for demo

                            views: {
                                dayGridMonth: { buttonText: 'month' },
                                timeGridWeek: { buttonText: 'week' },
                                timeGridDay: { buttonText: 'day' }
                            },

                            defaultView: 'dayGridMonth',
                            defaultDate: TODAY,

                            droppable: true, // this allows things to be dropped onto the calendar
                            editable: true,
                            eventLimit: true, // allow "more" link when too many events
                            navLinks: true,
                            events: [
                                {
                                    title: 'All Day Event',
                                    start: YM + '-01',
                                    description: 'Toto lorem ipsum dolor sit incid idunt ut',
                                    className: "fc-event-danger fc-event-solid-warnin"
                                },
                                {
                                    title: 'Reporting',
                                    start: YM + '-14T13:30:00',
                                    description: 'Lorem ipsum dolor incid idunt ut labore',
                                    end: YM + '-14',
                                    className: "fc-event-success"
                                },
                                {
                                    title: 'Company Trip',
                                    start: YM + '-02',
                                    description: 'Lorem ipsum dolor sit tempor incid',
                                    end: YM + '-03',
                                    className: "fc-event-primary"
                                },
                                {
                                    title: 'ICT Expo 2017 - Product Release',
                                    start: YM + '-03',
                                    description: 'Lorem ipsum dolor sit tempor inci',
                                    end: YM + '-05',
                                    className: "fc-event-light fc-event-solid-primary"
                                },
                                {
                                    title: 'Dinner',
                                    start: YM + '-12',
                                    description: 'Lorem ipsum dolor sit amet, conse ctetur',
                                    end: YM + '-10'
                                },
                                {
                                    id: 999,
                                    title: 'Repeating Event',
                                    start: YM + '-09T16:00:00',
                                    description: 'Lorem ipsum dolor sit ncididunt ut labore',
                                    className: "fc-event-danger"
                                },
                                {
                                    id: 1000,
                                    title: 'Repeating Event',
                                    description: 'Lorem ipsum dolor sit amet, labore',
                                    start: YM + '-16T16:00:00'
                                },
                                {
                                    title: 'Conference',
                                    start: YESTERDAY,
                                    end: TOMORROW,
                                    description: 'Lorem ipsum dolor eius mod tempor labore',
                                    className: "fc-event-primary"
                                },
                                {
                                    title: 'Meeting',
                                    start: TODAY + 'T10:30:00',
                                    end: TODAY + 'T12:30:00',
                                    description: 'Lorem ipsum dolor eiu idunt ut labore'
                                },
                                {
                                    title: 'Lunch',
                                    start: TODAY + 'T12:00:00',
                                    className: "fc-event-info",
                                    description: 'Lorem ipsum dolor sit amet, ut labore'
                                },
                                {
                                    title: 'Meeting',
                                    start: TODAY + 'T14:30:00',
                                    className: "fc-event-warning",
                                    description: 'Lorem ipsum conse ctetur adipi scing'
                                },
                                {
                                    title: 'Happy Hour',
                                    start: TODAY + 'T17:30:00',
                                    className: "fc-event-info",
                                    description: 'Lorem ipsum dolor sit amet, conse ctetur'
                                },
                                {
                                    title: 'Dinner',
                                    start: TOMORROW + 'T05:00:00',
                                    className: "fc-event-solid-danger fc-event-light",
                                    description: 'Lorem ipsum dolor sit ctetur adipi scing'
                                },
                                {
                                    title: 'Birthday Party',
                                    start: TOMORROW + 'T07:00:00',
                                    className: "fc-event-primary",
                                    description: 'Lorem ipsum dolor sit amet, scing'
                                },
                                {
                                    title: 'Click for Google',
                                    url: 'http://google.com/',
                                    start: YM + '-28',
                                    className: "fc-event-solid-info fc-event-ligh",
                                    description: 'Lorem ipsum dolor sit amet, labore'
                                }
                            ],

                            drop: function(arg) {
                                // is the "remove after drop" checkbox checked?
                                if ($('#kt_calendar_external_events_remove').is(':checked')) {
                                    // if so, remove the element from the "Draggable Events" list
                                    $(arg.draggedEl).remove();
                                }
                            },

                            eventRender: function(info) {
                                var element = $(info.el);

                                if (info.event.extendedProps &amp;&amp; info.event.extendedProps.description) {
                                    if (element.hasClass('fc-day-grid-event')) {
                                        element.data('content', info.event.extendedProps.description);
                                        element.data('placement', 'top');
                                        KTApp.initPopover(element);
                                    } else if (element.hasClass('fc-time-grid-event')) {
                                        element.find('.fc-title').append('&lt;div class="fc-description"&gt;' + info.event.extendedProps.description + '&lt;/div&gt;');
                                    } else if (element.find('.fc-list-item-title').lenght !== 0) {
                                        element.find('.fc-list-item-title').append('&lt;div class="fc-description"&gt;' + info.event.extendedProps.description + '&lt;/div&gt;');
                                    }
                                }
                            }
                        });

                        calendar.render();
                    }

                    return {
                        //main function to initiate the module
                        init: function() {
                            initExternalEvents();
                            initCalendar();
                        }
                    };
                }();

                jQuery(document).ready(function() {
                    KTCalendarExternalEvents.init();
                });
    </code>
</pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--end::Code example-->
    <!--end::Example-->
</div>
<!--end::Container-->
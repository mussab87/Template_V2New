function ResizeVerticalTextBoxes(selector){if(window.$RSjQuery){selector=selector?selector:"";window.$RSjQuery(selector+".canGrowVerticalTextBox").each(function(){var node=window.$RSjQuery(this);var child=node.children(":first");var td=node.parent();if(child.width()>node.width()){td.width(child.outerWidth());node.width(child.outerWidth())}else if(!node.hasClass("canShrinkVerticalTextBox"))child.outerWidth(node.width())});window.$RSjQuery(selector+".canShrinkVerticalTextBox").each(function(){var node=window.$RSjQuery(this);var child=node.children(":first");var td=node.parent();if(child.width()<node.width()){td.width(child.outerWidth());node.width(child.outerWidth())}else child.outerWidth(node.width())})}}function ResizeTablixRows(){if(window.$RSjQuery){MarkCanGrowRows();MarkCanShrinkRows();window.$RSjQuery(".cannotGrowTextBoxInTablix").map(getLargerCells).each(function(i,e){e.css("height","")})}function getLargerCells(){var node=window.$RSjQuery(this).children().first();var cell=node.closest("td.tdResizable").children().first();if(cell.length&&node.length&&cell.height()>node.height())return cell;else return null}}function MarkCanGrowRows(){if(window.$RSjQuery){if(window.$RSjQuery(".cannotGrowTextBoxInTablix").length===0||window.$RSjQuery(".canGrowTextBoxInTablix").length===0)return;window.$RSjQuery("tr > td > .canGrowTextBoxInTablix").parent().parent().each(function(){var row=window.$RSjQuery(this);if(row.find(".canGrowTextBoxInTablix").length===0||row.find(".cannotGrowTextBoxInTablix").length===0)return;else{var parentTable=row.closest("table").first();row.find(".cannotGrowTextBoxInTablix").each(function(){if(window.$RSjQuery(this).closest("table").first().attr("class")===parentTable.attr("class"))window.$RSjQuery(this).closest("td").addClass("tdResizable")})}})}}function MarkCanShrinkRows(){if(window.$RSjQuery){if(window.$RSjQuery(".canShrinkTextBoxInTablix").length===0)return;window.$RSjQuery("tr > td > .canShrinkTextBoxInTablix").parent().parent().each(function(){var row=window.$RSjQuery(this);if(row.find(".canShrinkTextBoxInTablix").length===0)return;else if(row.find(".cannotShrinkTextBoxInTablix").length===0)row.find("td").each(function(){window.$RSjQuery(this).addClass("tdResizable")})})}}function Resize100HeightElements(){if(window.$RSjQuery){var parentHeights=[];var index=0;var elementsToResize=window.$RSjQuery(".resize100Height");elementsToResize.each(function(){var self=window.$RSjQuery(this);var parent=self.parent();var paddingTop=parseFloat(parent.css("padding-top"));var paddingBottom=parseFloat(parent.css("padding-bottom"));var parentHeight=parent.hasClass("resize100Height")?parentHeights[index-1]:parent[0].offsetHeight-paddingTop-paddingBottom;while(!(parent.is("div")||parent.is("td")||parent.is("tr"))||parentHeight===0){parent=parent.parent();paddingTop=parseFloat(parent.css("padding-top"));paddingBottom=parseFloat(parent.css("padding-bottom"));parentHeight=parent.hasClass("resize100Height")?parentHeights[index-1]:parent[0].offsetHeight-paddingTop-paddingBottom}parentHeights[index++]=parentHeight});index=0;elementsToResize.each(function(){var self=window.$RSjQuery(this);self.height(parentHeights[index++])})}}function Resize100WidthElements(){if(window.$RSjQuery){var parentWidths=[];var index=0;var elementsToResize=window.$RSjQuery(".resize100Width");elementsToResize.each(function(){var self=window.$RSjQuery(this);var parent=self.parent();var paddingLeft=parseFloat(parent.css("padding-left"));var paddingRight=parseFloat(parent.css("padding-right"));var parentWidth=parent.hasClass("resize100Width")?parentWidths[index-1]:parent[0].offsetWidth-paddingLeft-paddingRight;while(!(parent.is("div")||parent.is("td")||parent.is("tr"))||parentWidth===0){parent=parent.parent();paddingLeft=parseFloat(parent.css("padding-left"));paddingRight=parseFloat(parent.css("padding-right"));parentWidth=parent.hasClass("resize100Width")?parentWidths[index-1]:parent[0].offsetWidth-paddingLeft-paddingRight}parentWidths[index++]=parentWidth});index=0;elementsToResize.each(function(){var self=window.$RSjQuery(this);self.width(parentWidths[index++])})}}function SetFocusOnReport(event){if(event.data=="SetFocusOnContent"){var reportViewer=window.$RSjQuery('div[id^="VisibleReportContentReportViewerControl_"],td[id^="m_sqlRsWebPartViewerCell"]');reportViewer.attr("tabindex",1);reportViewer.focus();reportViewer.removeAttr("tabindex")}}window.addEventListener("message",SetFocusOnReport,false);function PostRenderActions(){Resize100HeightElements();Resize100WidthElements();ResizeVerticalTextBoxes();ResizeTablixRows()}window.$RSjQuery=window.jQuery.noConflict(true);